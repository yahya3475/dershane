@{
    ViewData["Title"] = "Dashboard";

    var role = ViewBag.role?.ToString().ToUpper();
    var (badgeClass, roleIcon) = role switch
    {
        "TEACHER" => ("bg-gradient-primary", "👨‍🏫"),
        "PRİNCİPAL" => ("bg-gradient-warning", "🏫"),
        _ => ("bg-gradient-success", "🎓")
    };
}

<div class="container mt-5">
    <!-- Hero Section -->
    <div class="card shadow-lg border-0 rounded-4 bg-gradient-primary text-white mb-5">
        <div class="card-body text-center p-5">
            <div class="mb-4">
                <div class="display-1 mb-3">@roleIcon</div>
                <h1 class="display-4 fw-bold mb-3">
                    Welcome back, @ViewBag.username!
                </h1>
                <h5 class="mb-4 opacity-75">
                    <span class="badge @badgeClass fs-6 px-3 py-2">@role</span>
                </h5>
            </div>

            <p class="lead mx-auto mb-4" style="max-width: 600px; opacity: 0.9;">
                Your personalized education hub - manage everything from exams to schedules in one beautiful interface.
            </p>

            <div class="d-flex flex-wrap justify-content-center gap-3">
                @switch (role)
                {
                    case "STUDENT":
                        <a asp-controller="Exam" asp-action="Index" class="btn btn-light btn-lg rounded-pill px-4 shadow-sm">
                            <i class="bi bi-journal-text me-2"></i>My Results
                        </a>
                        <a asp-controller="Student" asp-action="MyAttendance" class="btn btn-outline-light btn-lg rounded-pill px-4 shadow-sm">
                            <i class="bi bi-calendar-check me-2"></i>Attendance
                        </a>
                        <a asp-controller="Student" asp-action="ViewHomeworks" class="btn btn-outline-light btn-lg rounded-pill px-4 shadow-sm">
                            <i class="bi bi-journal-text me-2"></i>Homeworks
                        </a>
                        break;
                    case "TEACHER":
                        <a asp-controller="Teacher" asp-action="Index" class="btn btn-light btn-lg rounded-pill px-4 shadow-sm">
                            <i class="bi bi-person-workspace me-2"></i>Teaching Hub
                        </a>
                        break;
                    case "PRİNCİPAL":
                        <a asp-controller="Principal" asp-action="Index" class="btn btn-light btn-lg rounded-pill px-4 shadow-sm">
                            <i class="bi bi-building me-2"></i>Admin Center
                        </a>
                        break;
                }

                <a asp-controller="Auth" asp-action="Logout" class="btn btn-outline-light btn-lg rounded-pill px-4 shadow-sm">
                    <i class="bi bi-box-arrow-right me-2"></i>Sign Out
                </a>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="row g-4 mb-5">
        @switch (role)
        {
            case "STUDENT":
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm border-0 hover-lift">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon bg-primary bg-gradient text-white rounded-circle mb-3">
                                <i class="bi bi-calendar-event"></i>
                            </div>
                            <h5 class="card-title">Class Schedule</h5>
                            <p class="card-text text-muted">View your daily class timetable and upcoming sessions.</p>
                            <a asp-controller="Schedule" asp-action="ViewSchedule" class="btn btn-outline-primary rounded-pill">
                                View Schedule
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm border-0 hover-lift">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon bg-success bg-gradient text-white rounded-circle mb-3">
                                <i class="bi bi-graph-up-arrow"></i>
                            </div>
                            <h5 class="card-title">Performance</h5>
                            <p class="card-text text-muted">Track your academic progress and achievements.</p>
                            <a href="#" class="btn btn-outline-success rounded-pill">
                                View Progress
                            </a>
                        </div>
                    </div>
                </div>
                break;
            case "TEACHER":
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm border-0 hover-lift">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon bg-warning bg-gradient text-white rounded-circle mb-3">
                                <i class="bi bi-people-fill"></i>
                            </div>
                            <h5 class="card-title">My Students</h5>
                            <p class="card-text text-muted">Manage your classes and track student progress.</p>
                            <a asp-controller="Teacher" asp-action="Index" class="btn btn-outline-warning rounded-pill">
                                View Classes
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm border-0 hover-lift">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon bg-info bg-gradient text-white rounded-circle mb-3">
                                <i class="bi bi-clipboard-check"></i>
                            </div>
                            <h5 class="card-title">Assessments</h5>
                            <p class="card-text text-muted">Create and manage exams and evaluations.</p>
                            <a asp-controller="Teacher" asp-action="ViewExams" class="btn btn-outline-info rounded-pill">
                                Manage Exams
                            </a>
                        </div>
                    </div>
                </div>
                break;
            case "PRİNCİPAL":
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm border-0 hover-lift">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon bg-danger bg-gradient text-white rounded-circle mb-3">
                                <i class="bi bi-bar-chart-fill"></i>
                            </div>
                            <h5 class="card-title">Analytics</h5>
                            <p class="card-text text-muted">Monitor school-wide performance and statistics.</p>
                            <a href="#" class="btn btn-outline-danger rounded-pill">
                                View Analytics
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm border-0 hover-lift">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon bg-secondary bg-gradient text-white rounded-circle mb-3">
                                <i class="bi bi-gear-fill"></i>
                            </div>
                            <h5 class="card-title">Settings</h5>
                            <p class="card-text text-muted">Configure system settings and preferences.</p>
                            <a href="#" class="btn btn-outline-secondary rounded-pill">
                                Manage Settings
                            </a>
                        </div>
                    </div>
                </div>
                break;
        }
    </div>

    <!-- Stats Cards -->
    <div class="row g-4 mb-5">
        @switch (role)
        {
            case "STUDENT":
                <div class="col-md-6 col-lg-3">
                    <div class="card bg-primary text-white border-0 shadow-sm">
                        <div class="card-body text-center">
                            <i class="bi bi-trophy-fill display-4 mb-2 opacity-75"></i>
                            <h3 class="display-6 fw-bold">85.5</h3>
                            <p class="mb-0 opacity-75">Average Grade</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card bg-success text-white border-0 shadow-sm">
                        <div class="card-body text-center">
                            <i class="bi bi-calendar-check-fill display-4 mb-2 opacity-75"></i>
                            <h3 class="display-6 fw-bold">98%</h3>
                            <p class="mb-0 opacity-75">Attendance Rate</p>
                        </div>
                    </div>
                </div>
                break;
            case "TEACHER":
                <div class="col-md-6 col-lg-3">
                    <div class="card bg-info text-white border-0 shadow-sm">
                        <div class="card-body text-center">
                            <i class="bi bi-people-fill display-4 mb-2 opacity-75"></i>
                            <h3 class="display-6 fw-bold">120</h3>
                            <p class="mb-0 opacity-75">Total Students</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card bg-warning text-white border-0 shadow-sm">
                        <div class="card-body text-center">
                            <i class="bi bi-clipboard-data-fill display-4 mb-2 opacity-75"></i>
                            <h3 class="display-6 fw-bold">8</h3>
                            <p class="mb-0 opacity-75">Active Classes</p>
                        </div>
                    </div>
                </div>
                break;
            case "PRİNCİPAL":
                <div class="col-md-6 col-lg-3">
                    <div class="card bg-danger text-white border-0 shadow-sm">
                        <div class="card-body text-center">
                            <i class="bi bi-person-badge-fill display-4 mb-2 opacity-75"></i>
                            <h3 class="display-6 fw-bold">25</h3>
                            <p class="mb-0 opacity-75">Total Teachers</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card bg-secondary text-white border-0 shadow-sm">
                        <div class="card-body text-center">
                            <i class="bi bi-mortarboard-fill display-4 mb-2 opacity-75"></i>
                            <h3 class="display-6 fw-bold">500</h3>
                            <p class="mb-0 opacity-75">Total Students</p>
                        </div>
                    </div>
                </div>
                break;
        }
    </div>

    <!-- Recent Activity -->
    <div class="card shadow-sm border-0 rounded-4">
        <div class="card-header bg-transparent border-0 pt-4">
            <h4 class="mb-0">
                <i class="bi bi-bell-fill me-2 text-primary"></i>Recent Updates
                        <h4 class="mb-0"></h4>
                <i class="bi bi-bell-fill me-2 text-primary"></i>Recent Updates
            </h4>
        </div>
        <div class="card-body">
            <div class="list-group list-group-flush">
                <div class="list-group-item border-0 px-0">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <div class="bg-success bg-gradient rounded-circle p-2">
                                <i class="bi bi-check-circle-fill text-white"></i>
                            </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h6 class="mb-1">System Update Complete</h6>
                            <p class="mb-1 text-muted">New features and improvements have been deployed successfully.</p>
                            <small class="text-muted">2 hours ago</small>
                        </div>
                    </div>
                </div>
                <div class="list-group-item border-0 px-0">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <div class="bg-info bg-gradient rounded-circle p-2">
                                <i class="bi bi-calendar-event-fill text-white"></i>
                            </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h6 class="mb-1">Exam Schedule Updated</h6>
                            <p class="mb-1 text-muted">New examination dates have been published for next month.</p>
                            <small class="text-muted">1 day ago</small>
                        </div>
                    </div>
                </div>
                <div class="list-group-item border-0 px-0">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <div class="bg-warning bg-gradient rounded-circle p-2">
                                <i class="bi bi-exclamation-triangle-fill text-white"></i>
                            </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h6 class="mb-1">Maintenance Notice</h6>
                            <p class="mb-1 text-muted">Scheduled maintenance will occur this weekend from 2-4 AM.</p>
                            <small class="text-muted">3 days ago</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.hover-lift {
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

.hover-lift:hover {
    transform: translateY(-5px);
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
}

.feature-icon {
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    font-size: 1.5rem;
}

.bg-gradient-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
}

.bg-gradient-warning {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%) !important;
}

.bg-gradient-success {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%) !important;
}
</style>