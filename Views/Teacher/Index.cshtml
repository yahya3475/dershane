@model List<dershane.Models.StudentVM>

@{
    ViewData["Title"] = "Teacher Dashboard";
}

<div class="container mt-5">
    <div class="card shadow-lg border-0 rounded-4">
        <div class="card-body text-center p-5">
            <h1 class="display-4 fw-bold text-primary mb-3">
                üë®‚Äçüè´ Welcome, Teacher!
            </h1>
            <p class="lead text-muted mx-auto mb-4" style="max-width: 600px;">
                Manage your classes, track student progress, and handle attendance efficiently from your personalized dashboard.
            </p>

            <div class="d-flex flex-wrap justify-content-center gap-3 mb-4">
                <a class="btn btn-lg btn-primary rounded-pill px-4 shadow-sm" href="@Url.Action("AddExam", "Teacher")">
                    <i class="bi bi-plus-circle me-2"></i>Add Exam
                </a>
                <a class="btn btn-lg btn-info rounded-pill px-4 shadow-sm" href="@Url.Action("ViewExams", "Teacher")">
                    <i class="bi bi-table me-2"></i>View Results
                </a>
                <a class="btn btn-lg btn-warning rounded-pill px-4 shadow-sm" href="@Url.Action("TakeAttendance", "Teacher")">
                    <i class="bi bi-check2-square me-2"></i>Take Attendance
                </a>
                <a class="btn btn-lg btn-secondary rounded-pill px-4 shadow-sm" href="@Url.Action("AttendanceReports", "Teacher")">
                    <i class="bi bi-graph-up me-2"></i>Reports
                </a>
                <a class="btn btn-lg btn-success rounded-pill px-4 shadow-sm" href="@Url.Action("Index", "Schedule")">
                    <i class="bi bi-calendar-week me-2"></i>Schedule
                </a>
                <a class="btn btn-lg btn-danger rounded-pill px-4 shadow-sm" href="@Url.Action("ViewHomeworks", "Teacher")">
                    <i class="bi bi-journal-text me-2"></i>Homeworks
                </a>
                <a class="btn btn-lg btn-warning rounded-pill px-4 shadow-sm" href="@Url.Action("CreateHomework", "Teacher")">
                    <i class="bi bi-plus-circle me-2"></i>New Homework
                </a>
            </div>
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-md-4 mb-3">
            <div class="card h-100 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title"><i class="bi bi-people me-2"></i>My Students</h5>
                    <p class="card-text">View and manage your class students.</p>
                    <div class="text-center">
                        <span class="display-6 text-primary fw-bold">@(Model?.Count ?? 0)</span>
                        <p class="text-muted">Total Students</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card h-100 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title"><i class="bi bi-file-earmark-text me-2"></i>Quick Actions</h5>
                    <p class="card-text">Frequently used teacher tools.</p>
                    <div class="d-grid gap-2">
                        <a href="@Url.Action("AddExam", "Teacher")" class="btn btn-outline-primary btn-sm">Add New Exam</a>
                        <a href="@Url.Action("TakeAttendance", "Teacher")" class="btn btn-outline-warning btn-sm">Take Attendance</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card h-100 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title"><i class="bi bi-calendar-check me-2"></i>Today's Tasks</h5>
                    <p class="card-text">Your schedule for today.</p>
                    <div class="text-center">
                        <span class="display-6 text-success fw-bold">3</span>
                        <p class="text-muted">Classes Today</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @if (Model != null && Model.Any())
    {
        <div class="card shadow-sm mt-4">
            <div class="card-header bg-dark">
                <h4 class="mb-0"><i class="bi bi-people-fill me-2"></i>Students in Your Class</h4>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th>Student ID</th>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Class</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var student in Model)
                            {
                                <tr>
                                    <td><strong>@student.DershaneId</strong></td>
                                    <td>@student.FirstName</td>
                                    <td>@student.LastName</td>
                                    <td><span class="badge bg-primary rounded-pill">@student.UClass</span></td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    }
    else
    {
        <div class="alert alert-info mt-4 shadow-sm rounded-3" role="alert">
            <i class="bi bi-info-circle-fill me-2"></i>No students found in your class. Please contact administration if this seems incorrect.
        </div>
    }

    <div class="mt-4">
        <h4 class="mb-3"><i class="bi bi-megaphone me-2"></i>Teacher Announcements</h4>
        <div class="list-group">
            <div class="list-group-item list-group-item-action">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">Exam Schedule Update</h5>
                    <small>2 days ago</small>
                </div>
                <p class="mb-1">New exam dates have been scheduled for next week.</p>
            </div>
            <div class="list-group-item list-group-item-action">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">Attendance System</h5>
                    <small>1 week ago</small>
                </div>
                <p class="mb-1">Digital attendance system is now available for all teachers.</p>
            </div>
        </div>
    </div>
</div>

@section Styles {
    <style>
        .card {
            border-radius: 15px;
            transition: all 0.3s ease-in-out;
            border: none;
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,.15);
        }
        .btn {
            transition: all 0.3s ease;
        }
        .btn:hover {
            transform: translateY(-1px);
        }
        .table th, .table td {
            vertical-align: middle;
        }
        .display-6 {
            font-size: 2.5rem;
        }
        .list-group-item {
            border-radius: 10px !important;
            margin-bottom: 5px;
            border: 1px solid #e9ecef;
        }
    </style>
}