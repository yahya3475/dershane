@model List<dershane.Models.StudentVM>

@{
    ViewData["Title"] = "Öğretmen Paneli";
    var totalStudents = Model?.Count ?? 0;
}

<div class="teacher-dashboard container-xxl py-4">
    <!-- Hero / Başlık -->
    <div class="card hero-card shadow-lg border-0 mb-4">
        <div class="card-body d-flex flex-column flex-lg-row align-items-center justify-content-between gap-3 p-4 p-lg-5">
            <div class="d-flex align-items-center gap-3">
                <div class="hero-icon">👨‍🏫</div>
                <div>
                    <h1 class="hero-title mb-1">Öğretmen Paneli</h1>
                    <p class="hero-subtitle mb-0">Sınıfınızı yönetin, yoklama alın, sınav ve ödev süreçlerini düzenleyin.</p>
                </div>
            </div>
            <div class="text-center text-lg-end">
                <div class="badge bg-primary-subtle text-primary-emphasis rounded-pill px-3 py-2 fw-semibold">
                    <i class="bi bi-people me-2"></i>@totalStudents Öğrenci
                </div>
            </div>
        </div>
    </div>

    <!-- Hızlı İşlemler -->
    <div class="card quick-actions shadow-sm border-0 mb-4">
        <div class="card-header d-flex align-items-center justify-content-between bg-transparent">
            <h5 class="mb-0"><i class="bi bi-lightning-charge-fill me-2 text-warning"></i>Hızlı İşlemler</h5>
        </div>
        <div class="card-body">
            <div class="row g-3">
                <div class="col-6 col-md-4 col-lg-3">
                    <a class="quick-action btn-qa bg-gradient-primary" href="@Url.Action("CreateExam", "Teacher")">
                        <i class="bi bi-plus-circle"></i>
                        <span>Sınav Oluştur</span>
                    </a>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <a class="quick-action btn-qa bg-gradient-info" href="@Url.Action("ViewExamSystem", "Teacher")">
                        <i class="bi bi-clipboard-data"></i>
                        <span>Sınav Sistemi</span>
                    </a>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <a class="quick-action btn-qa bg-gradient-success" href="@Url.Action("TakeAttendance", "Teacher")">
                        <i class="bi bi-person-check"></i>
                        <span>Yoklama Al</span>
                    </a>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <a class="quick-action btn-qa bg-gradient-warning" href="@Url.Action("CreateHomework", "Teacher")">
                        <i class="bi bi-journal-plus"></i>
                        <span>Ödev Oluştur</span>
                    </a>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <a class="quick-action btn-qa bg-gradient-secondary" href="@Url.Action("ViewHomeworks", "Teacher")">
                        <i class="bi bi-journal-text"></i>
                        <span>Ödevler</span>
                    </a>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <a class="quick-action btn-qa bg-gradient-primary" href="@Url.Action("ViewExams", "Teacher")">
                        <i class="bi bi-clipboard-check"></i>
                        <span>Not Girişi</span>
                    </a>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <a class="quick-action btn-qa bg-gradient-info" href="@Url.Action("AttendanceReports", "Teacher")">
                        <i class="bi bi-graph-up"></i>
                        <span>Yoklama Raporları</span>
                    </a>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <a class="quick-action btn-qa bg-gradient-success" href="@Url.Action("Index", "Schedule")">
                        <i class="bi bi-calendar-week"></i>
                        <span>Ders Programı</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Küçük İstatistik Kartları -->
    <div class="row g-3 mb-4">
        <div class="col-12 col-md-4">
            <div class="stat-card card h-100">
                <div class="card-body d-flex align-items-center">
                    <div class="stat-icon bg-primary"><i class="bi bi-people-fill"></i></div>
                    <div>
                        <div class="stat-value">@totalStudents</div>
                        <div class="stat-label">Öğrenci Sayısı</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-4">
            <div class="stat-card card h-100">
                <div class="card-body d-flex align-items-center">
                    <div class="stat-icon bg-success"><i class="bi bi-journal-bookmark-fill"></i></div>
                    <div>
                        <div class="stat-value">—</div>
                        <div class="stat-label">Aktif Ödev</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-4">
            <div class="stat-card card h-100">
                <div class="card-body d-flex align-items-center">
                    <div class="stat-icon bg-info"><i class="bi bi-calendar-week-fill"></i></div>
                    <div>
                        <div class="stat-value">—</div>
                        <div class="stat-label">Haftalık Ders</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Öğrenci Tablosu -->
    @if (Model != null && Model.Any())
    {
        <div class="card shadow-sm border-0 mb-4">
            <div class="card-header bg-transparent d-flex align-items-center justify-content-between">
                <h5 class="mb-0"><i class="bi bi-people-fill me-2 text-primary"></i>Sınıfınızdaki Öğrenciler</h5>
                <span class="badge bg-primary-subtle text-primary-emphasis rounded-pill">Toplam: @totalStudents</span>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-dark table-hover table-borderless align-middle mb-0">
                        <thead class="table-gradient">
                            <tr>
                                <th>Okul No</th>
                                <th>Ad</th>
                                <th>Soyad</th>
                                <th>Sınıf</th>
                            </tr>
                        </thead>
                        <tbody>
                        @foreach (var student in Model)
                        {
                            <tr>
                                <td><span class="fw-semibold">@student.DershaneId</span></td>
                                <td>@student.FirstName</td>
                                <td>@student.LastName</td>
                                <td><span class="badge bg-primary rounded-pill">@student.UClass</span></td>
                            </tr>
                        }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    }
    else
    {
        <div class="alert alert-info shadow-sm rounded-3 mb-4" role="alert">
            <i class="bi bi-info-circle-fill me-2"></i>Sınıfınıza ait öğrenci bulunamadı. Hatalı olduğunu düşün��yorsanız yönetim ile iletişime geçin.
        </div>
    }

    <!-- Duyurular -->
    <div class="card shadow-sm border-0">
        <div class="card-header bg-transparent">
            <h5 class="mb-0"><i class="bi bi-megaphone-fill me-2 text-warning"></i>Duyurular</h5>
        </div>
        <div class="card-body p-0">
            <div class="list-group list-group-flush">
                <div class="list-group-item list-item-dark">
                    <div class="d-flex w-100 justify-content-between">
                        <h6 class="mb-1">Sınav Takvimi Güncellendi</h6>
                        <small>2 gün önce</small>
                    </div>
                    <p class="mb-1 opacity-75">Gelecek hafta için yeni sınav tarihleri sisteme eklendi.</p>
                </div>
                <div class="list-group-item list-item-dark">
                    <div class="d-flex w-100 justify-content-between">
                        <h6 class="mb-1">Dijital Yoklama</h6>
                        <small>1 hafta önce</small>
                    </div>
                    <p class="mb-1 opacity-75">Tüm öğretmenler için dijital yoklama sistemi aktif edildi.</p>
                </div>
            </div>
        </div>
    </div>
</div>

@section Styles {
    <style>
        .teacher-dashboard .card {
            background: rgba(30, 30, 46, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.08) !important;
            border-radius: 16px;
            color: rgba(255, 255, 255, 0.95);
        }

        .hero-card {
            background: linear-gradient(135deg, rgba(99,102,241,0.15), rgba(30,30,46,0.9));
        }

        .hero-icon {
            width: 64px;
            height: 64px;
            display: grid;
            place-items: center;
            font-size: 2rem;
            border-radius: 14px;
            background: linear-gradient(135deg, rgba(99,102,241,0.25), rgba(139,92,246,0.2));
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .hero-title {
            font-weight: 800;
            letter-spacing: 0.3px;
        }

        .hero-subtitle {
            color: rgba(255, 255, 255, 0.75);
        }

        .quick-action.btn-qa {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: .5rem;
            width: 100%;
            min-height: 110px;
            text-decoration: none;
            color: #fff;
            border-radius: 14px;
            border: 1px solid rgba(255,255,255,.1);
            transition: all .25s ease;
        }
        .quick-action.btn-qa i { font-size: 1.6rem; }
        .quick-action.btn-qa span { font-weight: 600; }
        .quick-action.btn-qa:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0,0,0,.25);
            color: #fff;
        }

        .bg-gradient-primary { background: linear-gradient(45deg, #667eea 0%, #764ba2 100%); }
        .bg-gradient-success { background: linear-gradient(45deg, #56ab2f 0%, #a8e6cf 100%); }
        .bg-gradient-warning { background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%); }
        .bg-gradient-info { background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%); }
        .bg-gradient-secondary { background: linear-gradient(45deg, #434343 0%, #000000 100%); }

        .stat-card { overflow: hidden; }
        .stat-icon {
            width: 52px;
            height: 52px;
            border-radius: 12px;
            display: grid;
            place-items: center;
            margin-right: 12px;
            box-shadow: inset 0 0 0 1px rgba(255,255,255,.15);
        }
        .stat-icon i { color: #fff; font-size: 1.2rem; }
        .stat-value { font-size: 1.8rem; font-weight: 800; line-height: 1; }
        .stat-label { color: rgba(255,255,255,.7); font-weight: 600; }

        .table-gradient th { background: linear-gradient(90deg, rgba(99,102,241,.25), rgba(139,92,246,.2)); border: 0; }
        .table td, .table th { border-color: rgba(255,255,255,.06) !important; }

        .list-item-dark { background: rgba(255,255,255,.03); }

        @@media (max-width: 576px) {
            .hero-title { font-size: 1.5rem; }
            .hero-icon { width: 52px; height: 52px; font-size: 1.6rem; }
            .quick-action.btn-qa { min-height: 90px; }
        }
    </style>
}